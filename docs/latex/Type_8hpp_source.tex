\hypertarget{Type_8hpp_source}{}\doxysection{Type.\+hpp}
\label{Type_8hpp_source}\index{include/Type.hpp@{include/Type.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef \_H\_TYPE\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define \_H\_TYPE\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <complex>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <climits>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <typeindex>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}cytnx\_error.hpp"{}}}
\DoxyCodeLine{13 \textcolor{comment}{//\#ifdef UNI\_MKL}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define MKL\_Complex8 std::complex<float>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define MKL\_Complex16 std::complex<double>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{comment}{//\#endif}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{namespace }cytnx \{}
\DoxyCodeLine{20   \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{21   \textcolor{keyword}{using }vec3d = std::vector<std::vector<std::vector<T> > >;}
\DoxyCodeLine{22   }
\DoxyCodeLine{23   \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{24   \textcolor{keyword}{using }vec2d = std::vector<std::vector<T> >;}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 }
\DoxyCodeLine{27   \textcolor{keyword}{typedef} \textcolor{keywordtype}{double} cytnx\_double;}
\DoxyCodeLine{28   \textcolor{keyword}{typedef} \textcolor{keywordtype}{float} cytnx\_float;}
\DoxyCodeLine{29   \textcolor{keyword}{typedef} uint64\_t cytnx\_uint64;}
\DoxyCodeLine{30   \textcolor{keyword}{typedef} uint32\_t cytnx\_uint32;}
\DoxyCodeLine{31   \textcolor{keyword}{typedef} uint16\_t cytnx\_uint16;}
\DoxyCodeLine{32   \textcolor{keyword}{typedef} int64\_t cytnx\_int64;}
\DoxyCodeLine{33   \textcolor{keyword}{typedef} int32\_t cytnx\_int32;}
\DoxyCodeLine{34   \textcolor{keyword}{typedef} int16\_t cytnx\_int16;}
\DoxyCodeLine{35   \textcolor{keyword}{typedef} \textcolor{keywordtype}{size\_t} cytnx\_size\_t;}
\DoxyCodeLine{36   \textcolor{keyword}{typedef} std::complex<float> cytnx\_complex64;}
\DoxyCodeLine{37   \textcolor{keyword}{typedef} std::complex<double> cytnx\_complex128;}
\DoxyCodeLine{38   \textcolor{keyword}{typedef} \textcolor{keywordtype}{bool} cytnx\_bool;}
\DoxyCodeLine{39 }
\DoxyCodeLine{41   \textcolor{keyword}{struct }\_\_type \{}
\DoxyCodeLine{42     \textcolor{keyword}{enum} \_\_pybind\_type \{}
\DoxyCodeLine{43       Void,}
\DoxyCodeLine{44       ComplexDouble,}
\DoxyCodeLine{45       ComplexFloat,}
\DoxyCodeLine{46       Double,}
\DoxyCodeLine{47       Float,}
\DoxyCodeLine{48       Int64,}
\DoxyCodeLine{49       Uint64,}
\DoxyCodeLine{50       Int32,}
\DoxyCodeLine{51       Uint32,}
\DoxyCodeLine{52       Int16,}
\DoxyCodeLine{53       Uint16,}
\DoxyCodeLine{54       Bool,}
\DoxyCodeLine{55     \};}
\DoxyCodeLine{56   \};}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   \textcolor{keyword}{struct }Type\_struct \{}
\DoxyCodeLine{59     std::string name;}
\DoxyCodeLine{60     \textcolor{comment}{//char name[35];}}
\DoxyCodeLine{61     \textcolor{keywordtype}{bool} is\_unsigned;}
\DoxyCodeLine{62     \textcolor{keywordtype}{bool} is\_complex;}
\DoxyCodeLine{63     \textcolor{keywordtype}{bool} is\_float;}
\DoxyCodeLine{64     \textcolor{keywordtype}{bool} is\_int;}
\DoxyCodeLine{65     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} typeSize;}
\DoxyCodeLine{66   \};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} N\_Type = 12;}
\DoxyCodeLine{69   \textcolor{keyword}{const} \textcolor{keywordtype}{int} N\_fType = 5;}
\DoxyCodeLine{70 }
\DoxyCodeLine{71   \textcolor{keyword}{class }Type\_class \{}
\DoxyCodeLine{72    \textcolor{keyword}{private}:}
\DoxyCodeLine{73    \textcolor{keyword}{public}:}
\DoxyCodeLine{74     enum : \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \{}
\DoxyCodeLine{75       Void,}
\DoxyCodeLine{76       ComplexDouble,}
\DoxyCodeLine{77       ComplexFloat,}
\DoxyCodeLine{78       Double,}
\DoxyCodeLine{79       Float,}
\DoxyCodeLine{80       Int64,}
\DoxyCodeLine{81       Uint64,}
\DoxyCodeLine{82       Int32,}
\DoxyCodeLine{83       Uint32,}
\DoxyCodeLine{84       Int16,}
\DoxyCodeLine{85       Uint16,}
\DoxyCodeLine{86       Bool}
\DoxyCodeLine{87     \};}
\DoxyCodeLine{88     \textcolor{comment}{// std::vector<Type\_struct> Typeinfos;}}
\DoxyCodeLine{89     \textcolor{keyword}{inline} \textcolor{keyword}{static} Type\_struct Typeinfos[N\_Type];}
\DoxyCodeLine{90     Type\_class\& operator=(\textcolor{keyword}{const} Type\_class\& rhs)\{}
\DoxyCodeLine{91        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<N\_Type;i++)}
\DoxyCodeLine{92         this-\/>Typeinfos[i] = rhs.Typeinfos[i];}
\DoxyCodeLine{93         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{94     \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     \textcolor{keyword}{constexpr} Type\_class()\{}
\DoxyCodeLine{97       \textcolor{comment}{// Typeinfos.resize(N\_Type);}}
\DoxyCodeLine{98       \textcolor{comment}{//\{name,unsigned,complex,float,int,typesize\}}}
\DoxyCodeLine{99 \textcolor{preprocessor}{      \#ifdef DEBUG}}
\DoxyCodeLine{100         std::cout << \textcolor{stringliteral}{"{}[DEBUG] Type constructor call. "{}} << std::endl;}
\DoxyCodeLine{101 \textcolor{preprocessor}{      \#endif}}
\DoxyCodeLine{102       Typeinfos[this-\/>Void] = (Type\_struct)\{\textcolor{stringliteral}{"{}Void"{}}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, 0\};}
\DoxyCodeLine{103       Typeinfos[this-\/>ComplexDouble] = (Type\_struct)\{\textcolor{stringliteral}{"{}Complex Double (Complex Float64)"{}},}
\DoxyCodeLine{104                                                     \textcolor{keyword}{false},}
\DoxyCodeLine{105                                                     \textcolor{keyword}{true},}
\DoxyCodeLine{106                                                     \textcolor{keyword}{true},}
\DoxyCodeLine{107                                                     \textcolor{keyword}{false},}
\DoxyCodeLine{108                                                     \textcolor{keyword}{sizeof}(cytnx\_complex128)\};}
\DoxyCodeLine{109       Typeinfos[this-\/>ComplexFloat] = (Type\_struct)\{\textcolor{stringliteral}{"{}Complex Float (Complex Float32)"{}},}
\DoxyCodeLine{110                                                     \textcolor{keyword}{false},}
\DoxyCodeLine{111                                                     \textcolor{keyword}{true},}
\DoxyCodeLine{112                                                     \textcolor{keyword}{true},}
\DoxyCodeLine{113                                                     \textcolor{keyword}{false},}
\DoxyCodeLine{114                                                     \textcolor{keyword}{sizeof}(cytnx\_complex64)\};}
\DoxyCodeLine{115       Typeinfos[this-\/>Double] =}
\DoxyCodeLine{116         (Type\_struct)\{\textcolor{stringliteral}{"{}Double (Float64)"{}}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{sizeof}(cytnx\_double)\};}
\DoxyCodeLine{117       Typeinfos[this-\/>Float] =}
\DoxyCodeLine{118         (Type\_struct)\{\textcolor{stringliteral}{"{}Float (Float32)"{}}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{sizeof}(cytnx\_float)\};}
\DoxyCodeLine{119       Typeinfos[this-\/>Int64] =}
\DoxyCodeLine{120         (Type\_struct)\{\textcolor{stringliteral}{"{}Int64"{}}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_int64)\};}
\DoxyCodeLine{121       Typeinfos[this-\/>Uint64] =}
\DoxyCodeLine{122         (Type\_struct)\{\textcolor{stringliteral}{"{}Uint64"{}}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_uint64)\};}
\DoxyCodeLine{123       Typeinfos[this-\/>Int32] =}
\DoxyCodeLine{124         (Type\_struct)\{\textcolor{stringliteral}{"{}Int32"{}}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_int32)\};}
\DoxyCodeLine{125       Typeinfos[this-\/>Uint32] =}
\DoxyCodeLine{126         (Type\_struct)\{\textcolor{stringliteral}{"{}Uint32"{}}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_uint32)\};}
\DoxyCodeLine{127       Typeinfos[this-\/>Int16] =}
\DoxyCodeLine{128         (Type\_struct)\{\textcolor{stringliteral}{"{}Int16"{}}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_int16)\};}
\DoxyCodeLine{129       Typeinfos[this-\/>Uint16] =}
\DoxyCodeLine{130         (Type\_struct)\{\textcolor{stringliteral}{"{}Uint16"{}}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{sizeof}(cytnx\_uint16)\};}
\DoxyCodeLine{131       Typeinfos[this-\/>Bool] =}
\DoxyCodeLine{132         (Type\_struct)\{\textcolor{stringliteral}{"{}Bool"{}}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{sizeof}(cytnx\_bool)\};}
\DoxyCodeLine{133     \};}
\DoxyCodeLine{134     \textcolor{keyword}{const} std::string \&getname(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id) \textcolor{keyword}{const};}
\DoxyCodeLine{135     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} c\_typename\_to\_id(\textcolor{keyword}{const} std::string \&c\_name)\textcolor{keyword}{const};}
\DoxyCodeLine{136     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} typeSize(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id) \textcolor{keyword}{const};}
\DoxyCodeLine{137     \textcolor{keywordtype}{bool} is\_unsigned(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id)\textcolor{keyword}{const};}
\DoxyCodeLine{138     \textcolor{keywordtype}{bool} is\_complex(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id)\textcolor{keyword}{const};}
\DoxyCodeLine{139     \textcolor{keywordtype}{bool} is\_float(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id)\textcolor{keyword}{const};}
\DoxyCodeLine{140     \textcolor{keywordtype}{bool} is\_int(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&type\_id)\textcolor{keyword}{const};}
\DoxyCodeLine{141     \textcolor{comment}{// int c\_typeindex\_to\_id(const std::type\_index \&type\_idx);}}
\DoxyCodeLine{142     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{143     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} T \&rc)\textcolor{keyword}{ const}\{}
\DoxyCodeLine{144       cytnx\_error\_msg(\textcolor{keyword}{true}, \textcolor{stringliteral}{"{}[ERROR] invalid type\%s"{}}, \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{145       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{146     \}}
\DoxyCodeLine{147     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_complex128 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::ComplexDouble; \}}
\DoxyCodeLine{148     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_complex64 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::ComplexFloat; \}}
\DoxyCodeLine{149     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_double \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Double; \}}
\DoxyCodeLine{150     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_float \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Float; \}}
\DoxyCodeLine{151     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_uint64 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Uint64; \}}
\DoxyCodeLine{152     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_int64 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Int64; \}}
\DoxyCodeLine{153     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_uint32 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Uint32; \}}
\DoxyCodeLine{154     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_int32 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Int32; \}}
\DoxyCodeLine{155     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_uint16 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Uint16; \}}
\DoxyCodeLine{156     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_int16 \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Int16; \}}
\DoxyCodeLine{157     \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cy\_typeid(\textcolor{keyword}{const} cytnx\_bool \&rc)\{ \textcolor{keywordflow}{return} Type\_class::Bool; \}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} type\_promote(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&typeL, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&typeR);}
\DoxyCodeLine{160 }
\DoxyCodeLine{161   \};}
\DoxyCodeLine{163 }
\DoxyCodeLine{164   \textcolor{keywordtype}{int} type\_promote(\textcolor{keyword}{const} \textcolor{keywordtype}{int} \&typeL, \textcolor{keyword}{const} \textcolor{keywordtype}{int} \&typeR);}
\DoxyCodeLine{165 }
\DoxyCodeLine{166   \textcolor{keyword}{extern} Type\_class Type; \textcolor{comment}{// move to cytnx.hpp and guarded}}
\DoxyCodeLine{167   \textcolor{comment}{//static const Type\_class Type = Type\_class();}}
\DoxyCodeLine{168   \textcolor{keyword}{extern} \textcolor{keywordtype}{int} \_\_blasINTsize\_\_;}
\DoxyCodeLine{169 }
\DoxyCodeLine{170   \textcolor{keyword}{extern} \textcolor{keywordtype}{bool} User\_debug;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172 \}  \textcolor{comment}{// namespace cytnx}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
