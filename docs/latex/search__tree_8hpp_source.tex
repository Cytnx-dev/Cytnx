\hypertarget{search__tree_8hpp_source}{}\doxysection{search\+\_\+tree.\+hpp}
\label{search__tree_8hpp_source}\index{include/search\_tree.hpp@{include/search\_tree.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef \_H\_search\_tree\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define \_H\_search\_tree\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}Type.hpp"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}UniTensor.hpp"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}cytnx\_error.hpp"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}utils/utils.hpp"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }cytnx \{}
\DoxyCodeLine{14   \textcolor{keyword}{class }PsudoUniTensor \{}
\DoxyCodeLine{15    \textcolor{keyword}{public}:}
\DoxyCodeLine{16     \textcolor{comment}{// UniTensor utensor; //don't worry about copy, because everything are references in cytnx!}}
\DoxyCodeLine{17     std::vector<std::string> labels;}
\DoxyCodeLine{18     std::vector<cytnx\_uint64> shape;}
\DoxyCodeLine{19     \textcolor{keywordtype}{bool} is\_assigned;}
\DoxyCodeLine{20     PsudoUniTensor *left;}
\DoxyCodeLine{21     PsudoUniTensor *right;}
\DoxyCodeLine{22     PsudoUniTensor *root;}
\DoxyCodeLine{23     cytnx\_float cost;}
\DoxyCodeLine{24     cytnx\_uint64 ID;}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     std::string accu\_str;}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     PsudoUniTensor()}
\DoxyCodeLine{29         : is\_assigned(false), left(nullptr), right(nullptr), root(nullptr), cost(0), ID(0)\{\};}
\DoxyCodeLine{30     PsudoUniTensor(\textcolor{keyword}{const} PsudoUniTensor \&rhs) \{}
\DoxyCodeLine{31       this-\/>left = rhs.left;}
\DoxyCodeLine{32       this-\/>right = rhs.right;}
\DoxyCodeLine{33       this-\/>root = rhs.root;}
\DoxyCodeLine{34       this-\/>labels = rhs.labels;}
\DoxyCodeLine{35       this-\/>shape = rhs.shape;}
\DoxyCodeLine{36       this-\/>is\_assigned = rhs.is\_assigned;}
\DoxyCodeLine{37       this-\/>cost = rhs.cost;}
\DoxyCodeLine{38       this-\/>accu\_str = rhs.accu\_str;}
\DoxyCodeLine{39       this-\/>ID = rhs.ID;}
\DoxyCodeLine{40     \}}
\DoxyCodeLine{41     PsudoUniTensor \&operator==(\textcolor{keyword}{const} PsudoUniTensor \&rhs) \{}
\DoxyCodeLine{42       this-\/>left = rhs.left;}
\DoxyCodeLine{43       this-\/>right = rhs.right;}
\DoxyCodeLine{44       this-\/>root = rhs.root;}
\DoxyCodeLine{45       this-\/>labels = rhs.labels;}
\DoxyCodeLine{46       this-\/>shape = rhs.shape;}
\DoxyCodeLine{47       this-\/>is\_assigned = rhs.is\_assigned;}
\DoxyCodeLine{48       this-\/>cost = rhs.cost;}
\DoxyCodeLine{49       this-\/>accu\_str = rhs.accu\_str;}
\DoxyCodeLine{50       this-\/>ID = rhs.ID;}
\DoxyCodeLine{51       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{52     \}}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} from\_utensor(\textcolor{keyword}{const} UniTensor \&in\_uten) \{}
\DoxyCodeLine{54       this-\/>labels = in\_uten.labels();}
\DoxyCodeLine{55       this-\/>shape = in\_uten.shape();}
\DoxyCodeLine{56       this-\/>is\_assigned = \textcolor{keyword}{true};}
\DoxyCodeLine{57     \}}
\DoxyCodeLine{58     \textcolor{keywordtype}{void} clear\_utensor() \{}
\DoxyCodeLine{59       this-\/>is\_assigned = \textcolor{keyword}{false};}
\DoxyCodeLine{60       this-\/>labels.clear();}
\DoxyCodeLine{61       this-\/>shape.clear();}
\DoxyCodeLine{62       this-\/>ID = 0;}
\DoxyCodeLine{63       this-\/>cost = 0;}
\DoxyCodeLine{64       this-\/>accu\_str = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66     \textcolor{keywordtype}{void} set\_ID(\textcolor{keyword}{const} cytnx\_int64 \&ID) \{ this-\/>ID = ID; \}}
\DoxyCodeLine{67   \};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69   \textcolor{keyword}{class }SearchTree \{}
\DoxyCodeLine{70    \textcolor{keyword}{public}:}
\DoxyCodeLine{71     std::vector<std::vector<PsudoUniTensor>> nodes\_container;}
\DoxyCodeLine{72     \textcolor{comment}{// std::vector<PsudoUniTensor> nodes\_container; // this contains intermediate layer.}}
\DoxyCodeLine{73     std::vector<PsudoUniTensor> base\_nodes;  \textcolor{comment}{// this is the button layer.}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     SearchTree()\{\};}
\DoxyCodeLine{76     SearchTree(\textcolor{keyword}{const} SearchTree \&rhs) \{}
\DoxyCodeLine{77       this-\/>nodes\_container = rhs.nodes\_container;}
\DoxyCodeLine{78       this-\/>base\_nodes = rhs.base\_nodes;}
\DoxyCodeLine{79     \}}
\DoxyCodeLine{80     SearchTree \&operator==(\textcolor{keyword}{const} SearchTree \&rhs) \{}
\DoxyCodeLine{81       this-\/>nodes\_container = rhs.nodes\_container;}
\DoxyCodeLine{82       this-\/>base\_nodes = rhs.base\_nodes;}
\DoxyCodeLine{83       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86     \textcolor{comment}{// clear all the elements in the whole tree.}}
\DoxyCodeLine{87     \textcolor{keywordtype}{void} clear() \{}
\DoxyCodeLine{88       nodes\_container.clear();}
\DoxyCodeLine{89       base\_nodes.clear();}
\DoxyCodeLine{90       \textcolor{comment}{// nodes\_container.reserve(1024);}}
\DoxyCodeLine{91     \}}
\DoxyCodeLine{92     \textcolor{comment}{// clear all the intermediate layer, leave all the base\_nodes intact.}}
\DoxyCodeLine{93     \textcolor{comment}{// and reset the root pointer on the base ondes}}
\DoxyCodeLine{94     \textcolor{keywordtype}{void} reset\_search\_order() \{ nodes\_container.clear(); \}}
\DoxyCodeLine{95     \textcolor{keywordtype}{void} search\_order();}
\DoxyCodeLine{96   \};}
\DoxyCodeLine{98 \}  \textcolor{comment}{// namespace cytnx}}
\DoxyCodeLine{99 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
